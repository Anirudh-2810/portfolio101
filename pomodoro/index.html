<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Nexus Pomodoro</title>
    <style>
        body { 
    background-color: #000; 
    color: white; 
    font-family: 'Inter', sans-serif; 
    display: flex; 
    justify-content: center; 
    align-items: center; 
    height: 100vh; 
    margin: 0; 
}

.card { 
    background: #111; 
    padding: 40px; 
    border-radius: 30px; 
    text-align: center; 
    width: 350px; 
    border: 1px solid #222; 
}

/* FIX: The Container for the Glow */
.timer-circle { 
    position: relative; 
    width: 240px; /* Slightly larger than the SVG */
    height: 240px; 
    margin: 0 auto; 
    display: flex; 
    align-items: center; 
    justify-content: center; 
}

/* FIX: Prevent Light Leak */
svg { 
    transform: rotate(-90deg); 
    width: 220px; 
    height: 220px; 
    overflow: visible; /* CRITICAL: Stops the box from cutting the glow */
} 

circle { 
    fill: none; 
    stroke-width: 8; 
    stroke-linecap: round; 
}

.bg { 
    stroke: #1a1a1a; 
}

/* FIX: The Neon Shader */
.progress { 
    stroke: #10b981; 
    stroke-dasharray: 565; 
    stroke-dashoffset: 0; 
    transition: stroke-dashoffset 1s linear; 
    /* drop-shadow follows the circle path exactly, preventing messy leaks */
    filter: drop-shadow(0 0 10px #10b981); 
}

.time-text { 
    position: absolute; 
    font-size: 3.5rem; 
    font-weight: bold; 
    color: #10b981; 
    font-family: 'Courier New', monospace; 
    /* Add a glow to the text to match the ring */
    text-shadow: 0 0 15px rgba(16, 185, 129, 0.4); 
}
        body { background-color: #000; color: white; font-family: 'Inter', sans-serif; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; overflow: hidden; }
        .card { background: #111; padding: 40px; border-radius: 30px; text-align: center; width: 350px; border: 1px solid #222; }
        .title { color: #22d3ee; letter-spacing: 5px; font-size: 0.8rem; margin-bottom: 5px; }
        .subtitle { color: #666; font-size: 0.7rem; margin-bottom: 30px; }
        
        /* Fixed Glow Ring */
        .timer-circle { position: relative; width: 220px; height: 220px; margin: 0 auto; display: flex; align-items: center; justify-content: center; }
        svg { transform: rotate(-90deg); width: 220px; height: 220px; overflow: visible; } /* overflow: visible fixes light leak */
        circle { fill: none; stroke-width: 8; stroke-linecap: round; }
        .bg { stroke: #1a1a1a; }
        .progress { 
            stroke: #10b981; 
            stroke-dasharray: 565; 
            stroke-dashoffset: 0; 
            transition: stroke-dashoffset 1s linear; 
            filter: drop-shadow(0 0 12px #10b981); /* Tighter glow */
        }
        
        .time-text { position: absolute; font-size: 3.5rem; font-weight: bold; color: #10b981; font-family: 'Courier New', monospace; text-shadow: 0 0 10px rgba(16, 185, 129, 0.3); }
        
        .settings { margin-bottom: 25px; display: flex; justify-content: center; gap: 15px; font-size: 0.7rem; color: #555; font-weight: bold; }
        input { background: #1a1a1a; border: 1px solid #333; color: #10b981; width: 45px; text-align: center; border-radius: 5px; padding: 2px; }

        .btn-group { margin-top: 40px; display: flex; justify-content: center; gap: 15px; }
        button { padding: 12px 35px; border-radius: 20px; border: none; font-weight: bold; cursor: pointer; transition: 0.3s; }
        .start { background: #fff; color: #000; }
        .reset { background: #222; color: #666; }
        button:hover { transform: scale(1.05); }
    </style>
</head>
<body>
                     
    <div class="card">
        <div class="title">POMODORO</div>
        <div class="subtitle">SYSTEM ACTIVE</div>

        <div class="settings">
            <span>WORK <input type="number" id="wIn" value="25"></span>
            <span>BREAK <input type="number" id="bIn" value="5"></span>
        </div>

        <div class="timer-circle">
            <svg>
                <circle class="bg" cx="110" cy="110" r="90"></circle>
                <circle id="dot" class="progress" cx="110" cy="110" r="90"></circle>
            </svg>
            <div class="time-text" id="display">25:00</div>
        </div>

        <div class="btn-group">
            <button class="start" id="ctrl" onclick="toggle()">Start</button>
            <button class="reset" onclick="reset()">Reset</button>
        </div>
    </div>

    <audio id="alarm" src="https://actions.google.com/sounds/v1/alarms/alarm_clock_short.ogg" preload="auto"></audio>

    <script>
        const quotes = [
    "Progress, not perfection.",
    "Focus on being productive instead of busy.",
    "Your focus determines your reality.",
    "The secret of getting ahead is getting started.",
    "Deep work is the superpower of the 21st century."
];

function newQuote() {
    const quoteText = document.querySelector('.quote-text');
    // Picks a random quote from the list
    const randomIndex = Math.floor(Math.random() * quotes.length);
    quoteText.textContent = quotes[randomIndex];
}
        let time, maxTime, timer = null, paused = true;
        const display = document.getElementById('display');
        const progress = document.getElementById('dot');
        const alarm = document.getElementById('alarm');

        function update() {
            const m = Math.floor(time / 60), s = time % 60;
            display.textContent = `${m}:${s < 10 ? '0' : ''}${s}`;
            const offset = 565 - (565 * time) / maxTime;
            progress.style.strokeDashoffset = offset;
        }

        function toggle() {
            // "Unlock" sound for browsers on first click
            alarm.play(); alarm.pause(); alarm.currentTime = 0;
        function reset() {
    // ... your existing reset logic ...
    newQuote(); // Changes the quote every time you hit reset
}

// Initialize on page load
newQuote();

            if (paused) {
                if (!time) {
                    time = document.getElementById('wIn').value * 60;
                    maxTime = time;
                }
                paused = false;
                document.getElementById('ctrl').textContent = "Pause";
                timer = setInterval(() => {
                    if (time > 0) {
                        time--; update();
                    } else {
                        clearInterval(timer);
                        alarm.play(); // Sound plays here
                        alert("Session Complete!");
                        reset();
                    }
                }, 1000);
            } else {
                clearInterval(timer);
                paused = true;
                document.getElementById('ctrl').textContent = "Start";
            }
        }

        function reset() {
            clearInterval(timer); paused = true;
            time = document.getElementById('wIn').value * 60;
            maxTime = time;
            document.getElementById('ctrl').textContent = "Start";
            update();
        }
        reset();
    </script>
</body>
</html>
