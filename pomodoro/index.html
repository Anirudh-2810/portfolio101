<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Nexus Zen Pomodoro</title>
    <style>
        body { background-color: #000; color: white; font-family: 'Inter', sans-serif; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        .card { background: #0a0a0a; padding: 40px; border-radius: 40px; text-align: center; width: 380px; border: 1px solid #1a1a1a; box-shadow: 0 0 50px rgba(0,0,0,1); }
        
        /* Fixed Shader: Visible overflow prevents light leak */
        svg { transform: rotate(-90deg); width: 220px; height: 220px; overflow: visible; margin-bottom: 20px; }
        .bg { fill: none; stroke: #111; stroke-width: 6; }
        .progress { fill: none; stroke: #22d3ee; stroke-width: 6; stroke-linecap: round; stroke-dasharray: 565; stroke-dashoffset: 0; transition: 1s linear; filter: drop-shadow(0 0 8px #22d3ee); }
        
        .time { font-size: 3.5rem; font-weight: 800; color: #fff; margin-top: -145px; margin-bottom: 80px; font-family: monospace; }
        
        /* Quote Section at Bottom */
        .quote-container { margin-top: 30px; padding-top: 20px; border-top: 1px solid #1a1a1a; min-height: 80px; }
        .quote-label { color: #22d3ee; font-size: 0.6rem; letter-spacing: 3px; font-weight: bold; margin-bottom: 8px; }
        .quote-text { color: #888; font-style: italic; font-size: 0.9rem; line-height: 1.4; transition: opacity 0.5s; }

        .btns { margin-top: 30px; display: flex; gap: 10px; justify-content: center; }
        button { padding: 12px 25px; border-radius: 12px; border: none; font-weight: bold; cursor: pointer; transition: 0.3s; }
        .start { background: #22d3ee; color: #000; }
        .reset { background: #111; color: #444; }
        button:hover { transform: translateY(-2px); opacity: 0.9; }
    </style>
</head>
<body>

    <div class="card">
        <svg><circle class="bg" cx="110" cy="110" r="90"></circle><circle id="dot" class="progress" cx="110" cy="110" r="90"></circle></svg>
        <div class="time" id="display">25:00</div>

        <div class="btns">
            <button class="start" id="ctrl" onclick="toggle()">Start Session</button>
            <button class="reset" onclick="reset()">Reset</button>
        </div>

        <div class="quote-container">
            <div class="quote-label">NEURAL MOTIVATION</div>
            <div id="quote" class="quote-text">Initializing...</div>
        </div>
    </div>

    <audio id="alarm" src="https://actions.google.com/sounds/v1/alarms/alarm_clock_short.ogg"></audio>

    <script>
        const quotes = [
            "Your limitation—it's only your imagination.",
            "Push yourself, because no one else is going to do it for you.",
            "Great things never come from comfort zones.",
            "Success doesn’t just find you. You have to go out and get it.",
            "Dream it. Wish it. Do it."
        ];

        let time, maxTime, timer = null, paused = true;
        const display = document.getElementById('display'), progress = document.getElementById('dot'), alarm = document.getElementById('alarm'), qElem = document.getElementById('quote');

        function newQuote() { qElem.style.opacity = 0; setTimeout(() => { qElem.textContent = quotes[Math.floor(Math.random() * quotes.length)]; qElem.style.opacity = 1; }, 500); }

        function update() {
            const m = Math.floor(time / 60), s = time % 60;
            display.textContent = `${m}:${s < 10 ? '0' : ''}${s}`;
            progress.style.strokeDashoffset = 565 - (565 * time) / maxTime;
        }

        function toggle() {
            alarm.play(); alarm.pause(); alarm.currentTime = 0; // Browser sound unlock
            if (paused) {
                if (!time) { time = 25 * 60; maxTime = time; }
                paused = false; document.getElementById('ctrl').textContent = "Pause";
                timer = setInterval(() => {
                    if (time > 0) { time--; update(); }
                    else { clearInterval(timer); alarm.play(); newQuote(); reset(); }
                }, 1000);
            } else { clearInterval(timer); paused = true; document.getElementById('ctrl').textContent = "Start"; }
        }

        function reset() { clearInterval(timer); paused = true; time = 25 * 60; maxTime = time; document.getElementById('ctrl').textContent = "Start Session"; update(); newQuote(); }
        reset();
    </div>
</body>
</html>
